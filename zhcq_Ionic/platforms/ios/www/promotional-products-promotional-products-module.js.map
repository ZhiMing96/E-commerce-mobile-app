{"version":3,"sources":["webpack:///./src/app/promotional-products/promotional-products.module.ts","webpack:///./src/app/promotional-products/promotional-products.page.html","webpack:///./src/app/promotional-products/promotional-products.page.scss","webpack:///./src/app/promotional-products/promotional-products.page.ts","webpack:///./src/app/services/promotion.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEyB;AACU;AAEhF,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kFAAuB;KACnC;CACF,CAAC;AAYF;IAAA;IAA4C,CAAC;IAAhC,6BAA6B;QAVzC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,2FAAsB;aACvB;YACD,YAAY,EAAE,CAAC,kFAAuB,CAAC;SACxC,CAAC;OACW,6BAA6B,CAAG;IAAD,oCAAC;CAAA;AAAH;;;;;;;;;;;;AC3B1C,0HAA0H,cAAc,sQAAsQ,uBAAuB,4SAA4S,iBAAiB,4I;;;;;;;;;;;ACAluB,8BAA8B,kBAAkB,iBAAiB,EAAE,oBAAoB,sBAAsB,gBAAgB,8BAA8B,iBAAiB,EAAE,+CAA+C,2wB;;;;;;;;;;;;;;;;;;;ACA3K;AAEe;AAEhB;AAOjD;IAYE,iCAAoB,gBAAkC,EAAU,eAAgC;QAA5E,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAVhG,iBAAY,GAAG,EAAE,CAAC;QAIlB,eAAU,GAAG;YACX,IAAI,EAAE,KAAK;YACX,aAAa,EAAE,GAAG;YAClB,YAAY,EAAE,IAAI;SACnB,CAAC;IAEkG,CAAC;IAErG,0CAAQ,GAAR;QAAA,iBAUC;QATA,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,CAAC,SAAS,CACrD,kBAAQ;YACN,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QACxC,CAAC,EACD,eAAK;YACH,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;QACrD,CAAC,CACF,CAAC;IACH,CAAC;IAGK,8CAAY,GAAlB,UAAmB,OAAe;;;;;4BAClB,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,MAAM,EAAE,SAAS,GAAG,OAAO;4BAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;yBAChB,CAAC;;wBAHI,KAAK,GAAG,SAGZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IAjCU,uBAAuB;QALnC,+DAAS,CAAC;YACT,QAAQ,EAAE,0BAA0B;YACpC,sIAA+C;;SAEhD,CAAC;+EAasC,4EAAgB,EAA2B,8DAAe;OAZrF,uBAAuB,CAkCnC;IAAD,8BAAC;CAAA;AAlCmC;;;;;;;;;;;;;;;;;;;;;ACX8C;AACpC;AAEH;AACC;AAE5C,IAAM,WAAW,GAAG;IAChB,OAAO,EAAE,IAAI,gEAAW,CAAC,EAAC,cAAc,EAAE,kBAAkB,EAAC,CAAC;CACjE,CAAC;AAMF;IAII,0BAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAF1C,YAAO,GAAW,gEAAgE,CAAC;IAKnF,CAAC;IAED,gDAAqB,GAArB;QAEI,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAM,IAAI,CAAC,OAAO,GAAG,wBAAwB,CAAC,CAAC,IAAI,CAEzE,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC/B;IACL,CAAC;IAIO,sCAAW,GAAnB,UAAoB,KAAwB;QAE9C,IAAI,YAAY,GAAW,EAAE,CAAC;QAE9B,IAAI,KAAK,CAAC,KAAK,YAAY,UAAU,EAAE;YACtC,YAAY,GAAG,iCAAiC,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;SACvE;aAED;YACC,YAAY,GAAG,6BAA6B,IAAG,UAAQ,KAAK,CAAC,MAAM,UAAK,KAAK,CAAC,KAAK,CAAC,OAAS,EAAC;SAC9F;QAED,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAE5B,OAAO,uDAAU,CAAC,YAAY,CAAC,CAAC;IACjC,CAAC;IAlCW,gBAAgB;QAJ5B,gEAAU,CAAC;YACR,UAAU,EAAE,MAAM;SACrB,CAAC;+EAMkC,+DAAU;OAJjC,gBAAgB,CAmC5B;IAAD,uBAAC;CAAA;AAnC4B","file":"promotional-products-promotional-products-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PromotionalProductsPage } from './promotional-products.page';\nimport { SharedComponentsModule } from '../components/shared-components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PromotionalProductsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedComponentsModule\n  ],\n  declarations: [PromotionalProductsPage]\n})\nexport class PromotionalProductsPageModule {}\n","module.exports = \"<app-header></app-header>\\n\\n<ion-content>\\n  <div *ngIf='errorMessage' class=\\\"errorText\\\">\\n        {{errorMessage}}\\n  </div>\\n  <div *ngIf='!errorMessage'>\\n    <ion-img src=\\\"assets/sale-header.jpg\\\"></ion-img>\\n\\n    <ion-grid *ngFor=\\\"let promo of promotions\\\">\\n      <ion-row>\\n        <ion-col>\\n            <h4 style=\\\"text-align: center\\\" class=\\\"promotionName\\\"><b>{{ promo.promotionName }}</b></h4>\\n        </ion-col>\\n      </ion-row>\\n        \\n      <ion-slides [options]=\\\"sliderOpts\\\" >\\n          <ion-slide *ngFor=\\\"let pdt of promo.promotionalProducts\\\" [routerLink]=\\\"['/product-details', pdt.productId]\\\" >\\n              <img src=\\\"http://localhost:8080/ZhcqRetailSystem-war/{{pdt.picturePath}}\\\" class=\\\"thumb-img\\\"/>\\n        </ion-slide>\\n      </ion-slides>\\n    </ion-grid>\\n  </div>\\n</ion-content>\\n\\n<app-footer></app-footer>\"","module.exports = \".thumb-img {\\n  height: 168px;\\n  width: 125px; }\\n\\n.promotionName {\\n  font-weight: bold;\\n  padding: 5%;\\n  background-color: #bd0b2f;\\n  color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaGVuZ3lhbmcvRGVza3RvcC9JUzMxMDYvemhjcS1jby96aGNxX0lvbmljL3NyYy9hcHAvcHJvbW90aW9uYWwtcHJvZHVjdHMvcHJvbW90aW9uYWwtcHJvZHVjdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksYUFBYTtFQUNiLFlBQVksRUFBQTs7QUFHaEI7RUFDSSxpQkFBaUI7RUFDakIsV0FBVztFQUVYLHlCQUFrQztFQUNsQyxZQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wcm9tb3Rpb25hbC1wcm9kdWN0cy9wcm9tb3Rpb25hbC1wcm9kdWN0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGh1bWItaW1ne1xuICAgIC8vIHBhZGRpbmc6IDVweDtcbiAgICBoZWlnaHQ6IDE2OHB4O1xuICAgIHdpZHRoOiAxMjVweDtcbn1cblxuLnByb21vdGlvbk5hbWV7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgcGFkZGluZzogNSU7XG4gICAgLy8gYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4OSwgMTEsIDQ3KTtcbiAgICBjb2xvcjp3aGl0ZTtcbn1cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ProductEntity } from '../entities/product';\nimport { PromotionService } from '../services/promotion.service';\nimport { Promotion } from '../entities/promotion';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-promotional-products',\n  templateUrl: './promotional-products.page.html',\n  styleUrls: ['./promotional-products.page.scss'],\n})\nexport class PromotionalProductsPage implements OnInit {\n\n  errorMessage = '';\n  public promotions: Promotion[];\n  promotionId: number;\n\n  sliderOpts = {\n    zoom: false,\n    slidesPerView: 2.5,\n    spaceBetween: true\n  };\n\n  constructor(private promotionService: PromotionService, private alertController: AlertController) { }\n\n  ngOnInit() {\n   this.promotionService.retrieveAllPromotions().subscribe(\n     response => {\n       this.promotions = response.promotions;\n     },\n     error => {\n       this.errorMessage = error;\n       this.presentAlert(this.errorMessage.substring(37));\n     }\n   );\n  }\n\n\n  async presentAlert(message: string) {\n    const alert = await this.alertController.create({\n      header: 'ERROR: ' + message,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n}\n","import { HttpHeaders, HttpErrorResponse, HttpClient } from \"@angular/common/http\";\nimport { Observable, throwError } from 'rxjs';\n\nimport { Injectable } from '@angular/core';\nimport { catchError } from 'rxjs/operators';\n\nconst httpOptions = {\n    headers: new HttpHeaders({'Content-Type': 'application/json'})\n};\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class PromotionService\n{\n    baseUrl: string = 'http://localhost:8080/ZhcqRetailSystem-war/Resources/Promotion';\n\n    constructor(private httpClient: HttpClient)\n    {\n\n    }\n\n    retrieveAllPromotions(): Observable<any>\n    {\n        return this.httpClient.get<any>(this.baseUrl + '/retrieveAllPromotions').pipe\n        (\n            catchError(this.handleError)\n        )\n    }\n\n\n\n    private handleError(error: HttpErrorResponse)\n\t{\n\t\tlet errorMessage: string = \"\";\n\t\t\n\t\tif (error.error instanceof ErrorEvent) {\t\t\n\t\t\terrorMessage = 'An unknown error has occurred: ' + error.error.message;\n\t\t} \n\t\telse \n\t\t{\t\t\n\t\t\terrorMessage = 'A HTTP error has occurred: ' + `HTTP ${error.status}: ${error.error.message}`;\n\t\t}\n\t\t\n\t\tconsole.error(errorMessage);\n\t\t\n\t\treturn throwError(errorMessage);\n\t}\n}\n"],"sourceRoot":""}