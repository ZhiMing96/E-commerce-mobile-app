{"version":3,"sources":["webpack:///./src/app/browse-products/browse-products.module.ts","webpack:///./src/app/browse-products/browse-products.page.html","webpack:///./src/app/browse-products/browse-products.page.scss","webpack:///./src/app/browse-products/browse-products.page.ts","webpack:///./src/app/entities/category.ts"],"names":[],"mappings":"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","file":"browse-products-browse-products-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BrowseProductsPage } from './browse-products.page';\nimport { SharedComponentsModule } from '../components/shared-components.module'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BrowseProductsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedComponentsModule\n  ],\n  declarations: [BrowseProductsPage]\n})\nexport class BrowseProductsPageModule {}\n","module.exports = \"\\n<app-header></app-header>\\n\\n<ion-content>\\n  <div *ngIf='errorMessage' class=\\\"errorText\\\">\\n    {{errorMessage}}\\n  </div>\\n  <div *ngIf='!errorMessage'>\\n    <ion-searchbar animated [formControl]=\\\"searchControl\\\"></ion-searchbar>\\n\\n    <h2 *ngIf='!catId' text-center style=\\\"font-weight: bold\\\">S &nbsp;&nbsp;H &nbsp;&nbsp;O &nbsp;&nbsp;P &nbsp;&nbsp;&nbsp; A&nbsp;&nbsp;L&nbsp;&nbsp;L</h2>\\n    <div *ngIf='catId'>\\n      <!-- <div *ngFor= \\\"let letter of category.categoryName.substring()\\\"> -->\\n          <h2 text-center style=\\\"font-weight: bold\\\"> {{ category.categoryName }}</h2>\\n      <!-- </div> -->\\n      <!-- <h2 text-center style=\\\"font-weight: bold\\\" > C&nbsp;&nbsp;A&nbsp;&nbsp;T&nbsp;&nbsp;E&nbsp;&nbsp;G&nbsp;&nbsp;O&nbsp;&nbsp;R&nbsp;&nbsp;Y </h2> -->\\n\\n    </div>\\n    \\n    <ion-grid> \\n      <ion-row>\\n        <ion-col size=\\\"6\\\" *ngFor=\\\"let product of products\\\"  class=\\\"activated\\\" >\\n          <img src=\\\"http://localhost:8080/ZhcqRetailSystem-war/{{product.picturePath}}\\\" class=\\\"img-responsive\\\" [routerLink]=\\\"['/product-details',product.productId]\\\"/>\\n              <h6>{{product.productName}} &nbsp; <img src=\\\"http://localhost:8080/ZhcqRetailSystem-war/images/{{product.colourEnum}}.jpg\\\" class=\\\"colorImg\\\"></h6>\\n              \\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n   <!-- <ion-infinite-scroll (ionInfinite)=\\\"loadMoreProducts($event)\\\">\\n      <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n    </ion-infinite-scroll>  -->\\n  </div>\\n</ion-content>\\n<app-footer></app-footer>\\n\\n\"","module.exports = \".colorImg {\\n  border: 1px;\\n  height: 15px;\\n  width: 15px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaGVuZ3lhbmcvRGVza3RvcC9JUzMxMDYvemhjcS1jby96aGNxX0lvbmljL3NyYy9hcHAvYnJvd3NlLXByb2R1Y3RzL2Jyb3dzZS1wcm9kdWN0cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFXO0VBQ1gsWUFBWTtFQUNaLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2Jyb3dzZS1wcm9kdWN0cy9icm93c2UtcHJvZHVjdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbG9ySW1ne1xuICAgIGJvcmRlcjogMXB4O1xuICAgIGhlaWdodDogMTVweDtcbiAgICB3aWR0aDogMTVweDtcbn0iXX0= */\"","import { Component, OnInit, ÉµConsole } from '@angular/core';\nimport { NavController, NavParams, AlertController } from '@ionic/angular';\nimport { ProductEntity } from '../entities/product';\nimport { ProductService } from '../services/product.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormControl } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\nimport { CategoryService } from '../services/category.service';\nimport { Category } from '../entities/category';\n\n\n@Component({\n  selector: 'app-browse-products',\n  templateUrl: './browse-products.page.html',\n  styleUrls: ['./browse-products.page.scss'],\n})\nexport class BrowseProductsPage implements OnInit {\n  public searchControl: FormControl;\n\n  errorMessage = '';\n  retrievedProducts: ProductEntity[];\n  products: ProductEntity[];\n  catId: number;\n  category = new Category();\n\n  constructor(private productService: ProductService, \n    private activatedRoute: ActivatedRoute, private alertController: AlertController, private categoryService: CategoryService) {\n    this.searchControl = new FormControl();\n    this.errorMessage = '';\n\n    // this.images = this.navParams.get('images'); //get product image URIs\n    // this.grid = Array(Math.ceil(this.images.length/2)); \n  }\n\n  ngOnInit() {\n    this.catId = parseInt(this.activatedRoute.snapshot.paramMap.get('catId'));\n    console.log('CATEGORY ID IS: ' + this.catId);\n    if (!isNaN(this.catId)) { // Localhost:8100/browse-products/id\n      this.categoryService.retrieveCategoryById(this.catId).subscribe(\n        response => {\n          this.category = response.category;\n          console.log('category retrieved = ' + this.category.categoryName);\n        },\n        error => {\n          console.log('Entered Error Message');\n          this.errorMessage = error;\n          this.presentAlert(this.errorMessage.substring(37));\n        }\n      );\n      this.productService.retrieveProductByCat(this.catId).subscribe(\n        response => {\n\n          this.retrievedProducts = response.products ;\n          this.products = this.retrievedProducts;\n\n          this.searchControl.valueChanges.pipe(debounceTime(700)).subscribe(search => {\n              this.products = this.retrievedProducts;\n              this.setFilteredItems(search);\n          });\n        },\n        error => {\n          this.errorMessage = error;\n        }\n      );\n    } else { // Localhost:8100/browse-products\n      this.productService.retrieveAllUniqueProducts().subscribe(\n        response => {\n\n          this.retrievedProducts = response.products ;\n          this.products = this.retrievedProducts;\n\n          this.searchControl.valueChanges.pipe(debounceTime(700)).subscribe(search => {\n            this.products = this.retrievedProducts;\n            this.setFilteredItems(search);\n          });\n        },\n        error => {\n          this.errorMessage = error;\n          this.presentAlert(this.errorMessage.substring(37));\n        }\n      );\n    }\n\n  }\n\n  setFilteredItems(searchTerm: string) {\n\n    this.products = this.filterItems(searchTerm);\n  }\n\n  filterItems(searchTerm: string) {\n    console.log('PRODUCTS ARRAY IN FILTER ITEMS METHOD: ' + this.products);\n\n    return this.products.filter(product => {\n      console.log('Item Name = ' + product.productName);\n      console.log('Search Term = ' + searchTerm);\n\n      return product.productName.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1;\n    });\n  }\n\n  async presentAlert(message: string) {\n    const alert = await this.alertController.create({\n      header: 'Error: ' + message,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n}\n","import { ProductEntity } from './product';\n\nexport class Category\n{\n    categoryId: number; \n    categoryName: string;\n    description: string; \n    picturePath: string;\n\n    productEntities: ProductEntity[];\n    \n    constructor(categoryId?: number, categoryName?: string, description?: string, picturePath?: string)\n    {\n        this.categoryId = categoryId;\n        this.categoryName = categoryName; \n        this.description = description;\n        this.picturePath = picturePath;\n    }\n        \n\t\n}"],"sourceRoot":""}