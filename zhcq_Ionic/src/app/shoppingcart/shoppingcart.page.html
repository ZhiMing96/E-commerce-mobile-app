<app-header></app-header>

<ion-content>
  <br/>
  <h2 text-center style="font-weight: bold">S&nbsp;&nbsp;H&nbsp;&nbsp;O&nbsp;&nbsp;P&nbsp;&nbsp;P&nbsp;&nbsp;I&nbsp;&nbsp;N&nbsp;&nbsp;G &nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;A&nbsp;&nbsp;G</h2>
  <br/>
  <ion-grid> 
    <ion-row *ngFor="let product of products" class="activated">
      <ion-col size="5">
        <img src="assets/{{product.picturePath}}" class="img-responsive"/>
      </ion-col>
      <ion-col size="7">
        <h6>{{product.productName}} &nbsp;&nbsp;${{product.unitPrice}}</h6>
        <label>Size: {{product.sizeEnum}}</label> <br>
        <!-- <label>Quantity: </label> 
        
        <ion-icon name="remove" (click)=decrement(product)></ion-icon> 
     {{quantity[products.indexOf(product)]}}
        <ion-icon name="add" (click) = increment(product)></ion-icon> -->

          <ion-button fill="clear" color="dark" strong >
              <strong> Qty: </strong>
          </ion-button>
          <ion-button fill="clear" (click)=decrement(product) color="dark" size="small">
            <ion-icon name="remove" ></ion-icon>
          </ion-button>
          <ion-button fill="outline" color="dark" size="small" strong>
              <strong>{{quantity[products.indexOf(product)]}}</strong>
          </ion-button>
          <ion-button fill="clear" (click) = increment(product) color="dark" size="small">
            <ion-icon name="add" ></ion-icon>
          </ion-button>
         
        <!--<ion-input style="border: 1px;" [(ngModel)]="quantity[products.indexOf(product)]" required></ion-input> -->
        <br/>
        <label *ngIf="product.promotion == undefined">Subtotal: SGD {{subtotal[products.indexOf(product)]}}</label> 
        <label *ngIf="product.promotion != undefined">
        <s>Subtotal: SGD {{subtotal[products.indexOf(product)]}}</s>
        </label> 
        <br/>
        <label *ngIf="product.promotion != undefined">
        <strong>Subtotal: SGD {{subtotal[products.indexOf(product)]*(1-product.promotion.discountRate)}}</strong>
        </label> 
        <br><br>
        <ion-button (click)="removeProduct(product)"  fill="outline" color="dark"  size="small" >Remove Item
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-button color="dark" expand="full" (click)="updateCart()" >Update Bag</ion-button>
  <ion-button color="dark" expand="full" (click)="checkout()">c h e c k &nbsp; o u t</ion-button>
</ion-content>
    

<app-footer></app-footer>
