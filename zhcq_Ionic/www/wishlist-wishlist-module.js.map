{"version":3,"sources":["webpack:///./src/app/wishlist/wishlist.module.ts","webpack:///./src/app/wishlist/wishlist.page.html","webpack:///./src/app/wishlist/wishlist.page.scss","webpack:///./src/app/wishlist/wishlist.page.ts"],"names":[],"mappings":"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","file":"wishlist-wishlist-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WishlistPage } from './wishlist.page';\nimport { SharedComponentsModule } from '../components/shared-components.module';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WishlistPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedComponentsModule\n  ],\n  declarations: [WishlistPage]\n})\nexport class WishlistPageModule {}\n","module.exports = \"<app-header></app-header>\\n\\n<ion-content>\\n  <br/>\\n  <h2 text-center style=\\\"font-weight: bold\\\">W&nbsp;&nbsp;I&nbsp;&nbsp;S&nbsp;&nbsp;H&nbsp;&nbsp; L&nbsp;&nbsp;I&nbsp;&nbsp;S&nbsp;&nbsp;T</h2>\\n  <br/>\\n  <ion-grid *ngIf=exists> \\n    <ion-row *ngFor=\\\"let product of products\\\"  [routerLink]=\\\"['/product-details',product.productId]\\\" class=\\\"activated\\\" >\\n      <ion-col size=\\\"5\\\">\\n        <img src=\\\"http://localhost:8080/ZhcqRetailSystem-war/{{product.picturePath}}\\\" class=\\\"img-responsive\\\"/>\\n      </ion-col>\\n      <ion-col size=\\\"7\\\">\\n        <h6>{{product.productName}} &nbsp;&nbsp;${{product.unitPrice}}</h6>\\n        <label>Size: {{product.sizeEnum}}</label> <br/>\\n\\n        \\t\\t<ion-button color=\\\"light\\\" (click)=\\\"removeProduct(product)\\\">Remove Item\\n            </ion-button>\\n        \\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-card *ngIf=!exists>\\n    <ion-card-content>\\n      <ion-card-title style=\\\"text-align: center\\\" >oops</ion-card-title>\\n      <ion-card-header style=\\\"text-align: center\\\"> Your WishList is Empty! :(</ion-card-header>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n    \\n\\n<app-footer></app-footer>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3dpc2hsaXN0L3dpc2hsaXN0LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Member } from '../entities/member';\nimport { ProductEntity } from '../entities/product';\nimport { WishList } from '../entities/wishlist';\nimport { AlertController } from '@ionic/angular';\nimport { WishListService } from '../services/wishlist.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-wishlist',\n  templateUrl: './wishlist.page.html',\n  styleUrls: ['./wishlist.page.scss'],\n})\nexport class WishlistPage implements OnInit {\n    member: Member;\n    products: ProductEntity[];\n    wishlist: WishList;\n    exists: boolean;\n    isLogin: boolean;\n\n\n    constructor(private storage: Storage, private alertController: AlertController, private wishListService: WishListService,\n               private router: Router) {\n\n    }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.storage.get('currentCustomer').then((data) => {\n      this.member = data;\n    });\n    this.storage.get('isLogin').then((data) => {\n      this.isLogin = data;\n      this.viewWishList();\n    });\n  }\n\n  viewWishList() {\n    if (this.isLogin) {\n      this.wishListService.retrieveWishList(this.member.memberId).subscribe(\n        response => {\n          this.wishlist = response.wishlist;\n          if (this.wishlist.productEntities.length > 0) {\n            this.exists = true;\n          }\n          this.products = this.wishlist.productEntities;\n          console.log('LENGTH OF PRODUCTS = ' + this.products.length)\n        },\n        error => {\n          this.presentAlert(error);\n        }\n      );\n    } else {\n      this.presentAlert('You are not logged in!');\n      this.router.navigate(['/home']);\n    }\n  }\n\n  async removeProduct(product: ProductEntity) {\n    const alert = await this.alertController.create({\n      header: 'Confirm',\n      message: 'Remove Item? <ion-icon ios=\"ios-sad\" md=\"md-sad\"></ion-icon>',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Cancelled remove Product');\n          }\n        }, {\n          text: 'Confirm',\n          handler: () => {\n            console.log(\"attempt to remove product\");\n            this.wishListService.removeFromWishList(this.member.memberId, product.productId).subscribe(\n              response => {\n               const index:number = this.products.indexOf(product);\n                if(index != -1) {\n                  this.products.splice(index,1);\n                  console.log(\"successfully removed product!\");\n                }\n                this.presentAlert(\"Successfully removed product!\");\n              },\n              error => {\n                this.presentAlert(error);\n              }\n            );\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n  async presentAlert(message: string) {\n    const alert = await this.alertController.create({\n      message: message,\n      buttons: [{\n        text: 'OK'\n      }]\n    });\n    await alert.present();\n  }\n\n \n\n\n}\n"],"sourceRoot":""}